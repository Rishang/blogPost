{% extends 'blog/base.html' %}
{% load static %}

{% block content %}

{% include "blog/nav.html" %}
<!-- <header class="masthead" style="background-image: url( https://images.unsplash.com/photo-1527352675495-d54e8f102689?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80 )"> -->
<header class="masthead" style="background-image: url( https://images.unsplash.com/photo-1542395975-1913c2900823?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1534&q=80 )">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="page-heading">
          <h1>Register here,</h1>
          <span class="subheading">To stay tuned with us..</span>
        </div>
      </div>
    </div>
  </div>
</header>
<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
      <div class="p-5">
      {% if register.errors %}
        <div>
          <div class="container-fluid">
            {% for field in register %}
                {% for error in field.errors %}
                    <div class="alert alert-info">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
            <hr>
          </div>
          <br>
        </div> 
      {% endif %}

        <form name="sentMessage" id="regForm" method="POST">
          {% csrf_token %}
        
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>First Name</label>
              {#{ register.first_name }#}
              <input type="text" class="form-control" placeholder="First Name" name="first_name" maxlength="100" minlength="2" required="" id="id_first_name" data-validation-required-message="Please enter your firstname.">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Last Name</label>
              {#{ register.last_name }#}
              <input type="text" class="form-control" placeholder="Last Name" name="last_name" maxlength="100" minlength="2" required="" id="id_last_name" data-validation-required-message="Please enter your lastname.">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>User Name</label>
              {#{ register.username }#}
              <input type="text" class="form-control" placeholder="User Name" name="username" maxlength="150" required="" id="id_username" data-validation-required-message="Please enter your username.">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Email Address</label>
              {#{ register.email }#}
              <input type="email" class="form-control" placeholder="Email Address" name="email" required="" id="id_email" data-validation-required-message="Please enter your email address.">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Password</label>
              {#{ register.password1 }#}
              <input type="password" class="form-control" placeholder="Password" name="password1" autocomplete="new-password" required="" id="id_password1" data-validation-required-message="Please enter password heare.">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Confirm Password</label>
              {#{ register.password2 }#}
              <input type="password" class="form-control" placeholder="Confirm Password" name="password2" autocomplete="new-password" required="" id="id_password2" data-validation-required-message="Please enter password again.">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <!-- <div class="control-group">
            <div class="form-group col-xs-12 floating-label-form-group controls">
              <label>Phone Number</label>
              <input type="tel" class="form-control" placeholder="Phone Number" id="phone" required="" data-validation-required-message="Please enter your phone number.">
              <p class="help-block text-danger"></p>
            </div>
          </div> -->
          <br>
          <div id="success"></div>
          <button type="submit" class="btn btn-primary" id="submit">Register</button>
          <p>
            <hr>
            Already a user ?
            <a class="btn-link" href="{% url 'login_page' %}">Sign In</a>
          </p>
        </form>
      
      </div>
    </div>
  </div>
</div>

{% endblock content %}


{% block scripts %}
<script src="{% static 'js/jqBootstrapValidation.js' %}"></script>

<script>
  navBrand = document.getElementsByClassName('navbar-brand')
  navBrand[0].style.color = 'light  '

  nav = document.getElementsByClassName("nav-link")
  for (i=0; i < nav.length; i++)
  {
    if (nav[i].innerHTML == 'SignIn / Register')
    {
      nav[i].innerHTML = 'login';
      nav[i].href = "{% url 'login_page' %}"
    }
    nav[i].style.color = 'light';
  }
</script>

{% endblock scripts %}